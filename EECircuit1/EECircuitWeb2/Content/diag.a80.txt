; This is a diagnostic for ee8080 CPU
; If all test was passed, all virtual LEDs in port 0FFH are on.
	org	0h
work	equ	8000h
	mvi b,78h
	mov a,b
	cpi	78h
	jnz	fail
	mvi	a,12h
	cpi	12h
	jnz	fail
	lxi	h,3456h
	mvi	a,34h
	cmp	h
	jnz	fail
	mvi	a,56h
	cmp	l
	jnz	fail
	mvi	a,1
	mvi	c,2
	add	c
	cpi	3
	jnz	fail
	adi	3
	cpi	6
	jnz	fail
	mvi	a,55h
	sta	work
	mvi	a,0aah
	lda	work
	cpi	55h
	jnz	fail
	mvi	a,56h
	lxi	d,0
	lxi	b,work
	stax	b
	mvi	a,0aah
	ldax	b
	cpi	56h
	jnz	fail
	lxi	b,0
	lxi	d,work
	stax	d
	mvi	a,0aah
	ldax	d
	cpi	56h
	jnz	fail




	jmp	success

fail:
	mvi	a,080h
	out	0ffh
	hlt
success:
	mvi	a,0ffh
	out	0ffh
	hlt

	end